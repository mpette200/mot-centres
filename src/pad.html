<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Test Pad</title>
  <link rel="stylesheet" href="gen_web.css" type="text/css"/>
  <!-- <script src=""
  type="text/javascript"></script> -->
</head>

<body>
<h3>Test Pad</h3>
</br>
<div>
  <input type="text" id="box_fn" name="fnbox" size="35" placeholder="Info">
  <button id="btn_proc">Get Info</button>
  
  <textarea readonly id="txt_out" rows=20 columns=80></textarea>
</div>

<script>
'use strict';

var btn_proc = document.getElementById('btn_proc');
var txt_out = document.getElementById('txt_out');

var show_result = function (msg) {
  return function() { txt_out.value = msg; };
};

var ajax = {};
ajax.getTxt = function getTxt(url) {
  return function() {
    var req = new XMLHttpRequest();
    req.open('GET', url, true);
    req.send();
    req.onreadystatechange = function () {
      if (req.status == 200) {
        var rows = req.responseText.split('\n');
        txt_out.value = rows.slice(0, 4);
      } else {
        txt_out.value = `Error ${req.status} ${req.statusText}`;
      }
    };
  };
};

btn_proc.onclick = ajax.getTxt(
      'data/mot/mot-vehicle-testing-stations.csv');

</script>
</body>
</html>
